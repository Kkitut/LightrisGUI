#include "kicktables.h"
#include "rusttype.h"

//Kick - 3bit ... 000 = -3, 001 = -2, ...110 = 3

//64, 1>0 2>1 3>2 0>3 3>0 0>1 1>2 2>3
const unsigned int SRS_KickTable[7] = {
    0b011010101100101011010100011100,
    0b010010011010001010001011100010,
    0b001011100100011100101010101011,
    0b101010101011010010011010001100,
    0b011100001010001011100010011010,
    0b100100011100101100101011010100,
    0b001100001011
};
//88, 2>0 3>1 0>2 1>3
const unsigned int SRS_KickTable180[9] = {
    0b011100010001010010011001011010,
    0b011000100011010101010100011101,
    0b101100100100101011100011011110,
    0b011010001100010100001011010011,
    0b100100011101011100000011110011,
    0b100001100010011001011010100101,
    0b101011100011011000011110010011,
    0b010010001011010011101010100010,
    0b000011110011011100001010
};

//64, 1>0 2>1 3>2 0>3 3>0 0>1 1>2 2>3
const unsigned int SRS_KickTable_I[7] = {
    0b011100001010100101011010011101,
    0b011100011001100001001100011001,
    0b101010011101011010101100010001,
    0b100001001100011001011100010101,
    0b011010101100010001011100011001,
    0b011010011101010101101010011101,
    0b001010100101
};
//40, 2>0 3>1 0>2 1>3
const unsigned int SRS_KickTable180_I[4] = {
    0b010011011001011010011101011100,
    0b011100001011010011101011100011,
    0b100011011101011100011001011010,
    0b011010001011010011101011100011
};

unsigned int KickTableExtract(const unsigned int* table, unsigned int kickIndex) {
    return (((table[kickIndex / 10] >> ((kickIndex * 3) % 30)) & 0x7) - 3);
}